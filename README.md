# OrangePi RK3399 é¡¹ç›®æ¶æ„ä¸æ„å»ºæµç¨‹

> **ç²¾ç®€ç‰ˆæœ¬** - ä¸“æ³¨äºå­¦ä¹ é¡¹ç›®æ¶æ„å’Œé•œåƒæ‰“åŒ…æµç¨‹

## ğŸ“¦ é¡¹ç›®è¯´æ˜

è¿™æ˜¯ OrangePi RK3399 å¼€å‘æ¿çš„ç²¾ç®€ç‰ˆé¡¹ç›®ï¼Œ**åªä¿ç•™äº†é¡¹ç›®æ¶æ„å’Œæ„å»ºè„šæœ¬**ï¼Œæ–¹ä¾¿å­¦ä¹ å’Œç†è§£åµŒå…¥å¼ Linux ç³»ç»Ÿçš„æ„å»ºæµç¨‹ã€‚

- **åŸå§‹é¡¹ç›®å¤§å°**: 2.9GBï¼ˆåŒ…å«å®Œæ•´æºç ï¼‰
- **ç²¾ç®€åå¤§å°**: 842KBï¼ˆæ¶æ„ã€æ„å»ºè„šæœ¬ã€æ‰“åŒ…å·¥å…·ï¼‰
- **ç²¾ç®€æ¯”ä¾‹**: 99.97% çš„ä½“ç§¯å‡å°‘

## ğŸ“ é¡¹ç›®ç»“æ„

```
OrangePiRK3399/
â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ build.sh           # ä¸»æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ build_image.sh # é•œåƒæ„å»º
â”‚   â”‚   â”œâ”€â”€ compilation.sh # ç¼–è¯‘æµç¨‹
â”‚   â”‚   â”œâ”€â”€ pack.sh        # æ‰“åŒ…æµç¨‹
â”‚   â”‚   â””â”€â”€ platform/
â”‚   â”‚       â””â”€â”€ rk3399.sh  # RK3399 å¹³å°é…ç½®
â”‚
â”œâ”€â”€ kernel/                # Linux å†…æ ¸ï¼ˆåªä¿ç•™é¡¶å±‚é…ç½®ï¼‰
â”‚   â”œâ”€â”€ Makefile          # å†…æ ¸æ„å»ºå…¥å£
â”‚   â”œâ”€â”€ Kconfig           # å†…æ ¸é…ç½®
â”‚   â””â”€â”€ build.config.*    # æ„å»ºé…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ uboot/                # U-Boot å¼•å¯¼åŠ è½½å™¨ï¼ˆåªä¿ç•™é¡¶å±‚é…ç½®ï¼‰
â”‚   â”œâ”€â”€ Makefile         # U-Boot æ„å»ºå…¥å£
â”‚   â”œâ”€â”€ make.sh          # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ tools/rockchip/  # â­ Rockchip æ‰“åŒ…å·¥å…·æºç 
â”‚   â”‚   â”œâ”€â”€ boot_merger.c    # Boot é•œåƒåˆå¹¶
â”‚   â”‚   â”œâ”€â”€ trust_merger.c   # Trust é•œåƒåˆå¹¶
â”‚   â”‚   â”œâ”€â”€ loaderimage.c    # Loader é•œåƒç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ resource_tool.c  # èµ„æºæ–‡ä»¶æ‰“åŒ…
â”‚   â”œâ”€â”€ docs/            # æ‰“åŒ…æ•™ç¨‹
â”‚   â”‚   â”œâ”€â”€ loaderé•œåƒæ‰“åŒ…æ•™ç¨‹.md
â”‚   â”‚   â”œâ”€â”€ trusté•œåƒæ‰“åŒ…æ•™ç¨‹.md
â”‚   â”‚   â””â”€â”€ ubooté•œåƒæ‰“åŒ…æ•™ç¨‹.md
â”‚   â”œâ”€â”€ å›ºä»¶æ‰“åŒ…åŸç†æ·±åº¦è§£æ.md
â”‚   â””â”€â”€ å›ºä»¶ç”Ÿæˆæ•™å­¦æ–‡æ¡£.md
â”‚
â”œâ”€â”€ external/            # å¤–éƒ¨å·¥å…·å’Œè„šæœ¬
â”‚   â”œâ”€â”€ install_to_emmc  # å®‰è£…åˆ° eMMC è„šæœ¬
â”‚   â”œâ”€â”€ bluetooth/       # è“ç‰™å·¥å…·
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ toolchain/          # äº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼ˆå·²æ’é™¤ï¼‰
```

## ğŸ¯ ä¿ç•™çš„æ ¸å¿ƒå†…å®¹

### 1. æ„å»ºè„šæœ¬ (`scripts/`)
- **build.sh**: ä¸»æ„å»ºè„šæœ¬ï¼Œåè°ƒæ•´ä¸ªç¼–è¯‘æµç¨‹
- **compilation.sh**: ç¼–è¯‘ kernel å’Œ uboot
- **build_image.sh**: ç”Ÿæˆæœ€ç»ˆé•œåƒ
- **pack.sh**: æ‰“åŒ…å›ºä»¶
- **rk3399.sh**: RK3399 å¹³å°ç‰¹å®šé…ç½®

### 2. é…ç½®æ–‡ä»¶
- **Kernel**: Makefile, Kconfig, build.config
- **U-Boot**: Makefile, Kconfig, make.sh

### 3. Rockchip æ‰“åŒ…å·¥å…·æºç  â­
- **boot_merger.c** (28KB) - åˆå¹¶ boot åˆ†åŒºé•œåƒ
- **trust_merger.c** - åˆå¹¶ trust åˆ†åŒºé•œåƒ
- **loaderimage.c** - ç”Ÿæˆ loader é•œåƒ
- **resource_tool.c** (25KB) - èµ„æºæ–‡ä»¶ï¼ˆlogoç­‰ï¼‰æ‰“åŒ…
- **SHA/CRC** æ ¡éªŒå·¥å…· - å®Œæ•´æ€§æ ¡éªŒ

### 4. æ‰“åŒ…æ•™ç¨‹æ–‡æ¡£
- Loader é•œåƒæ‰“åŒ…æ•™ç¨‹
- Trust é•œåƒæ‰“åŒ…æ•™ç¨‹
- U-Boot é•œåƒæ‰“åŒ…æ•™ç¨‹
- å›ºä»¶æ‰“åŒ…åŸç†æ·±åº¦è§£æ

## ğŸš€ æ„å»ºæµç¨‹å­¦ä¹ è·¯å¾„

1. **äº†è§£é¡¹ç›®æ¶æ„**
   - æŸ¥çœ‹ `scripts/build.sh` äº†è§£æ•´ä½“æ„å»ºæµç¨‹
   - é˜…è¯» `scripts/lib/` ä¸‹çš„å„ä¸ªè„šæœ¬æ¨¡å—

2. **å­¦ä¹ å†…æ ¸æ„å»º**
   - æŸ¥çœ‹ `kernel/Makefile`
   - ç†è§£ `kernel/build.config.*` é…ç½®æ–‡ä»¶

3. **å­¦ä¹  U-Boot æ„å»º**
   - æŸ¥çœ‹ `uboot/Makefile` å’Œ `uboot/make.sh`
   - é˜…è¯» `uboot/docs/` ä¸‹çš„æ‰“åŒ…æ•™ç¨‹

4. **å­¦ä¹ é•œåƒæ‰“åŒ…** â­
   - é˜…è¯» `uboot/å›ºä»¶æ‰“åŒ…åŸç†æ·±åº¦è§£æ.md`
   - æŸ¥çœ‹ `scripts/lib/pack.sh` æ‰“åŒ…é€»è¾‘
   - **ç ”ç©¶ `uboot/tools/rockchip/` æºç ** - æ·±å…¥ç†è§£æ‰“åŒ…ç®—æ³•

## âš™ï¸ å®Œæ•´æºç è·å–

å¦‚æœéœ€è¦ç¼–è¯‘å®Œæ•´é¡¹ç›®ï¼Œéœ€è¦è·å–ä»¥ä¸‹æºç ï¼š

```bash
# 1. Kernel æºç 
git clone https://github.com/orangepi-xunlong/OrangePiRK3399_kernel.git kernel

# 2. U-Boot æºç 
git clone https://github.com/orangepi-xunlong/OrangePiRK3399_uboot.git uboot

# 3. External å·¥å…·
git clone https://github.com/orangepi-xunlong/OrangePiRK3399_external.git external

# 4. äº¤å‰ç¼–è¯‘å·¥å…·é“¾
# éœ€è¦ä¸‹è½½ GCC Linaro å·¥å…·é“¾
```

## ğŸ“š å­¦ä¹ é‡ç‚¹

è¿™ä¸ªç²¾ç®€ç‰ˆæœ¬é€‚åˆï¼š
- âœ… ç†è§£åµŒå…¥å¼ Linux ç³»ç»Ÿçš„æ„å»ºæ¶æ„
- âœ… å­¦ä¹ é•œåƒæ‰“åŒ…å’Œéƒ¨ç½²æµç¨‹
- âœ… ç ”ç©¶ Makefile å’Œæ„å»ºè„šæœ¬ç¼–å†™
- âœ… äº†è§£ RK3399 å¹³å°çš„å¯åŠ¨æµç¨‹

ä¸é€‚åˆï¼š
- âŒ ç›´æ¥ç¼–è¯‘è¿è¡Œï¼ˆç¼ºå°‘æºç ï¼‰
- âŒ é©±åŠ¨å¼€å‘å’Œè°ƒè¯•ï¼ˆå·²æ’é™¤é©±åŠ¨æºç ï¼‰
- âŒ å†…æ ¸å¼€å‘ï¼ˆå·²æ’é™¤å†…æ ¸æºç ï¼‰

## ğŸ”— ç›¸å…³èµ„æº

- [OrangePi å®˜æ–¹ç½‘ç«™](http://www.orangepi.org/)
- [OrangePi RK3399 GitHub](https://github.com/orangepi-xunlong)
- [Rockchip å®˜æ–¹æ–‡æ¡£](http://opensource.rock-chips.com/wiki_Main_Page)

## ğŸ“„ è®¸å¯è¯

- Kernel: GPL-2.0
- U-Boot: GPL-2.0
- æ„å»ºè„šæœ¬: éµå¾ªåŸé¡¹ç›®è®¸å¯

---

**æç¤º**: è¿™æ˜¯ä¸€ä¸ªå­¦ä¹ ç”¨ç²¾ç®€ç‰ˆæœ¬ã€‚å¦‚éœ€å®é™…ç¼–è¯‘ï¼Œè¯·è·å–å®Œæ•´æºç ã€‚
